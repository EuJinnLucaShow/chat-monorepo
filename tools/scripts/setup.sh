#!/bin/bash

echo "üöÄ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Chat –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—è..."

# –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å pnpm
if ! command -v pnpm &> /dev/null; then
    echo "üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ pnpm..."
    npm install -g pnpm
fi

# –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
echo "üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ..."
pnpm install

# –ó–±–∏—Ä–∞—î–º–æ —Å–ø—ñ–ª—å–Ω—ñ –ø–∞–∫–µ—Ç–∏
echo "üèóÔ∏è –ó–±–∏—Ä–∞—î–º–æ —Å–ø—ñ–ª—å–Ω—ñ –ø–∞–∫–µ—Ç–∏..."
pnpm run build --filter @chat/shared

echo "‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
echo ""
echo "üî• –î–ª—è –∑–∞–ø—É—Å–∫—É —Ä–æ–∑—Ä–æ–±–∫–∏:"
echo "   pnpm dev"
echo ""
echo "üöÄ –î–ª—è –∑–∞–ø—É—Å–∫—É —á–µ—Ä–µ–∑ Docker:"
echo "   pnpm docker:up"